<nav class="navbar navbar-expand-lg navbar-dark bg-dark p-3">
    <div class="container">
        <%= link_to "Framgia E-Learning System", root_path, class: 'navbar-brand' %>
        
        <button class="navbar-toggler"  type="button" 
                                        data-toggle="collapse" 
                                        data-target="#navbarSupportedContent" 
                                        aria-controls="navbarSupportedContent" 
                                        aria-expanded="false" 
                                        aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <%= form_tag(users_path, method: :get, class: 'form-inline pull-right' ) do %>
            <div class="position-relative">
                <%= text_field_tag :search_user, params[:search_user],  class: 'search-field form-control mr-2',
                                                                        type: 'search',
                                                                        placeholder: 'Search users' %> 
                <%= button_tag(type: 'submit', class: 'btn btn-secondary') do %>
                    <span><i class="fa fa-search"></i> Search</span>
                <% end %>
            </div>
        <% end %>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <%= link_to "Dashboard", dashboard_path, class: 'nav-link' %>
                </li>
                <li class="nav-item">
                    <%= link_to "Categories", categories_path, class: 'nav-link' %>
                </li>
                <li class="nav-item">
                    <%= link_to "Members", users_path, class: 'nav-link' %>
                </li>
                <% if logged_in? %>
                    <li class="nav-item dropdown">
                        <%= link_to current_user.name, '#',    class: 'nav-link dropdown-toggle', 
                                                        id: 'navbarDropdown', 
                                                        role: 'button',
                                                        data: { toggle: 'dropdown' },
                                                        aria: { haspopup: 'true', expanded: 'false' }
                        %>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <%= link_to "Profile", user_path(current_user), class: 'dropdown-item' %>
                            <%= link_to "Settings", edit_user_path(current_user), class: 'dropdown-item' %>
                            <%= link_to "Logout", logout_path,  method: :delete, 
                                                                class: 'dropdown-item' %>
                            <% if current_user.admin? %>
                                <div class="dropdown-divider"></div>
                                <%= link_to "Manage Categories", admin_categories_path, class: 'dropdown-item' %>
                                <%= link_to "Manage Users", admin_users_path, class: 'dropdown-item' %>
                            <% end %>
                        </div>
                    </li>
                <% end %>
            </ul>
        </div>
    </div>
</nav>